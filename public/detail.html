<!DOCTYPE html>
<html lang="en">

<head>
  <style>
    /* @media (max-width: 767px) {
      #footer {
        position: relative;
      }
    } */

    .material-symbols-outlined {
      font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
    }
  </style>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <title>Detail</title>
</head>

<body>
  <!-- navbar -->
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <nav class="navbar navbar-expand-lg bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <img src="/src/images/dumbbell.png" alt="Logo" width="45" height="50" class="d-inline-block ">
          <span style="font-size: 24px;">Fitness</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav ms-auto">
            <a class="nav-link active" aria-current="page" href="/" style="font-size: 20px;">Home</a>
            <!-- <a class="nav-link text-primary" href="#" role="button" id="install" style="text-align: center;">Install</a> -->
          </div>
        </div>
      </div>
    </nav>
    <div id="content" style="margin: 10px; margin-top: 10px;"></div>
    <div style="display: flex; justify-content: center; align-items: center; margin-top: 3rem;" id="icon">
      <span class="material-symbols-outlined" style="font-size: 144px;" id="gambar">
        fitness_center
      </span>
    </div>
    <div class="container fixed-bottom" id="footer" style="position: relative;">
      <footer class="py-3 my-4">
        <ul class="nav  border-bottom border-dark pb-3 mb-3">
          <a class="btn btn-primary" href="/" role="button">Back to Home</a>
        </ul>
        <p class="text-center text-body-secondary text-primary">@ Kevin Wijaya</p>
      </footer>
    </div>
  </div>

  <script>
    if (navigator.onLine) {
      // The browser is in online mode
      console.log("Browser is online");
    } else {
      // The browser is in offline mode
      console.log("Browser is offline");
    }
    document.addEventListener('DOMContentLoaded', function () {

      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);

      const id = urlParams.get('id')
      console.log(id)
      // const location = urlParams.get('location');
      // const image = urlParams.get('image');
      // const description = urlParams.get('description');

      // const location = decodeURIComponent(localStorage.getItem('location'));
      // const image = decodeURIComponent(localStorage.getItem('image'));
      // const description = decodeURIComponent(localStorage.getItem('description'));

      // localStorage.clear();

      // if (!navigator.onLine) { // Check if the browser is offline
      //   // Retrieve data from localStorage if offline
      //   const storedData = localStorage.getItem(id);
      //   console.log(storedData)
      //   if (storedData) {
      //     const dataObject = JSON.parse(storedData);
      //     const location = decodeURIComponent(dataObject.location);
      //     const image = decodeURIComponent(dataObject.image);
      //     const description = decodeURIComponent(dataObject.description);
      //     console.log('offline')
      //     console.log(location)
      //     console.log(image)
      //     console.log(description)
      //     document.getElementById('content').innerHTML = `
      //       <div class="card mb-3 border-danger" style="max-width: 1000px;">
      //         <div class="row g-0">
      //           <div class="col-md-4">
      //             <img src="${image}" class="img-fluid rounded-start" alt="${location}" style ="width:300px; height:220px">
      //           </div>
      //           <div class="col-md-8">
      //             <div class="card-body text-danger">
      //               <h3 class="card-title">${location}</h3>
      //               <p class="card-text">${description}</p>
      //             </div>
      //           </div>
      //         </div>
      //       </div>
      //       `;
      //   }
      // } else if (navigator.onLine) {
      //   // Online: Fetch data from Firebase
      //   fetch('https://whatdoiknow-f2429-default-rtdb.firebaseio.com/posts.json')
      //     .then(function (response) {
      //       if (!response.ok) {
      //         throw new Error('Network response was not ok');
      //       }
      //       return response.json();
      //     })
      //     .then(function (data) {
      //       const postData = Array.isArray(data) ? data[id] : data;
      //       const location = decodeURIComponent(postData.location);
      //       const image = decodeURIComponent(postData.image);
      //       const description = decodeURIComponent(postData.description);
      //       console.log('post data:', postData)
      //       console.log('data:', data)
      //       console.log('online')
      //       console.log(location)
      //       console.log(image)
      //       console.log(description)
      //       // Populate the content div with the retrieved data
      //       document.getElementById('content').innerHTML = `
      //               <div class="card mb-3 border-danger" style="max-width: 1000px;">
      //                   <div class="row g-0">
      //                       <div class="col-md-4">
      //                           <img src="${image}" class="img-fluid rounded-start" alt="${location}" style="width:300px; height:220px;">
      //                       </div>
      //                       <div class="col-md-8">
      //                           <div class="card-body text-danger">
      //                               <h3 class="card-title">${location}</h3>
      //                               <p class="card-text">${description}</p>
      //                           </div>
      //                       </div>
      //                   </div>
      //               </div>
      //           `;
      //     })
      //     .catch(function (error) {
      //       console.error('Error fetching data:', error);
      //     });
      // }

      const storedData = localStorage.getItem(id);
      const dataObject = JSON.parse(storedData);
      const location = decodeURIComponent(dataObject.location);
      const image = decodeURIComponent(dataObject.image);
      const description = decodeURIComponent(dataObject.description);
      // console.log(location)
      // console.log(image)
      // console.log(description)

      document.getElementById('content').innerHTML = `
      <div class="card mb-3 border-danger" style="max-width: 1000px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="${image}" class="img-fluid rounded-start" alt="${location}" style ="width:300px; height:220px">
          </div>
          <div class="col-md-8">
            <div class="card-body text-danger">
              <h3 class="card-title">${location}</h3>
              <p class="card-text">${description}</p>
            </div>
          </div>
        </div>
      </div>
      `;
    }
    );
  </script>
  <script defer src="/src/js/material.min.js"></script>
  <script src="/src/js/promise.js"></script>
  <script src="/src/js/fetch.js"></script>
  <script src="/src/js/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
</body>

</html>